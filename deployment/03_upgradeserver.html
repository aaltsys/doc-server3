<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Upgrading a Zentyal Server &mdash; AAltsys Server Deployment 1.0 documentation</title>
    
    <link rel="stylesheet" href="_static/aaltsys.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '1.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="top" title="AAltsys Server Deployment 1.0 documentation" href="index.html" />
    <link rel="next" title="Replacing a Current Server" href="04_replaceserver.html" />
    <link rel="prev" title="Mac mini Server Connections" href="02_connectserver.html" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="04_replaceserver.html" title="Replacing a Current Server"
             accesskey="N">next</a></li>
        <li class="right" >
          <a href="02_connectserver.html" title="Mac mini Server Connections"
             accesskey="P">previous</a> |</li>
        <li><a href="index.html">AAltsys Server Deployment 1.0 documentation</a> &raquo;</li> 
      </ul>
    </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
  <h3><a href="index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Upgrading a Zentyal Server</a><ul>
<li><a class="reference internal" href="#copy-shares-from-old-server">Copy shares from old server</a></li>
<li><a class="reference internal" href="#swap-to-new-server">Swap to new server</a></li>
<li><a class="reference internal" href="#enter-office-configuration">Enter office configuration</a></li>
<li><a class="reference internal" href="#copy-shares-to-new-server">Copy shares to new server</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="02_connectserver.html"
                        title="previous chapter">Mac mini Server Connections</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="04_replaceserver.html"
                        title="next chapter">Replacing a Current Server</a></p>
  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="_sources/03_upgradeserver.txt"
           rel="nofollow">Show Source</a></li>
  </ul>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="upgrading-a-zentyal-server">
<span id="upgradeserver"></span><h1>Upgrading a Zentyal Server<a class="headerlink" href="#upgrading-a-zentyal-server" title="Permalink to this headline">¶</a></h1>
<p>Configuration databases and file permissions on older versions of Zentyal may
not be compatible with newer Zentyal releases. Upgrade older servers using the
following instructions.</p>
<div class="section" id="copy-shares-from-old-server">
<h2>Copy shares from old server<a class="headerlink" href="#copy-shares-from-old-server" title="Permalink to this headline">¶</a></h2>
<p>At a workstation, use the command line to create directories for each server
share, and then copy the shared files into the new local directories. Open the
command line by clicking <em class="guilabel">Start</em> and entering <tt class="kbd docutils literal"><span class="pre">cmd.exe</span></tt> in the
the search window, then selecting <strong class="program">cmd.exe</strong> from the search results.</p>
<p>Copy files from share <tt class="file docutils literal"><span class="pre">\\AAltsysserver\shared</span></tt>, mapped to drive
<tt class="file docutils literal"><span class="pre">S:</span></tt>, by typing the commands:</p>
<div class="highlight-python"><pre>md \shared
cd \shared
xcopy S:\*.* . /s/e</pre>
</div>
<p>Use the preceding commands as a template for copying other server shares to a
workstation. For example, copy a user&#8217;s server private home directory, mapped to
drive <tt class="file docutils literal"><span class="pre">H:</span></tt>, by replacing <tt class="file docutils literal"><span class="pre">shared</span></tt> with <tt class="file docutils literal"><span class="pre">home</span></tt> and <tt class="file docutils literal"><span class="pre">S:</span></tt>
with <tt class="file docutils literal"><span class="pre">H:</span></tt> in the preceding commands.</p>
</div>
<div class="section" id="swap-to-new-server">
<h2>Swap to new server<a class="headerlink" href="#swap-to-new-server" title="Permalink to this headline">¶</a></h2>
<p>Shutdown and disconnect the old server, then connect the new server using the
diagram shown previously. Then power on the new server, and access its
administration at <a class="reference external" href="https://192.168.2.241">https://192.168.2.241</a> from a workstation web browser.</p>
</div>
<div class="section" id="enter-office-configuration">
<h2>Enter office configuration<a class="headerlink" href="#enter-office-configuration" title="Permalink to this headline">¶</a></h2>
<p>Use the instructions at <a class="reference external" href="../install/06_office.html#installoffice" title="(in AAltsys Server 3.0 Installation v3.0)"><em>Office File Sharing</em></a> to configure file sharing,
printers, and users and groups.</p>
</div>
<div class="section" id="copy-shares-to-new-server">
<h2>Copy shares to new server<a class="headerlink" href="#copy-shares-to-new-server" title="Permalink to this headline">¶</a></h2>
<p>For each share directory saved on a workstation, first map the share to its
corresponding drive letter. In Windows 7, shares are mapped to drives by opening
<em class="guilabel">Computer</em>, pressing <tt class="kbd docutils literal"><span class="pre">[F10]</span></tt> to display the menu, and selecting
<em class="menuselection">Tools ‣ Map Network Drive</em>.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Download script <a class="reference download internal" href="_downloads/netshare.bat"><tt class="xref download docutils literal"><span class="pre">NETSHARE.BAT</span></tt></a> to the
workstation desktop as an alternative to mapping drives. Then edit the batch
script to reference the new server, and run the script to map drives.</p>
</div>
<p>After mapping a share to a drive letter, open the command line, then use the
following commands to copy the share files back to the server, remembering to
replace <tt class="file docutils literal"><span class="pre">S:</span></tt> and <tt class="file docutils literal"><span class="pre">shared</span></tt> with the respective share drive letter and
directory name for a share:</p>
<div class="highlight-python"><pre>cd \shared
xcopy . S:\ /s/e</pre>
</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="04_replaceserver.html" title="Replacing a Current Server"
             >next</a></li>
        <li class="right" >
          <a href="02_connectserver.html" title="Mac mini Server Connections"
             >previous</a> |</li>
        <li><a href="index.html">AAltsys Server Deployment 1.0 documentation</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2014, Gerald Lovel.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.2b3.
    </div>
  </body>
</html>