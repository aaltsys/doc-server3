<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Mac mini Server Hardware &mdash; AAltsys Server 3.0 Installation 3.0 documentation</title>
    
    <link rel="stylesheet" href="_static/aaltsys.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '3.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="top" title="AAltsys Server 3.0 Installation 3.0 documentation" href="index.html" />
    <link rel="next" title="Use of Diskutil" href="02_diskutil.html" />
    <link rel="prev" title="Apple First Boot Instructions" href="01_Appleboot.html" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="02_diskutil.html" title="Use of Diskutil"
             accesskey="N">next</a></li>
        <li class="right" >
          <a href="01_Appleboot.html" title="Apple First Boot Instructions"
             accesskey="P">previous</a> |</li>
        <li><a href="index.html">AAltsys Server 3.0 Installation 3.0 documentation</a> &raquo;</li> 
      </ul>
    </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
  <h3><a href="index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Mac mini Server Hardware</a></li>
<li><a class="reference internal" href="#mac-mini-server-connections">Mac mini Server Connections</a></li>
<li><a class="reference internal" href="#upgrading-a-zentyal-server">Upgrading a Zentyal Server</a><ul>
<li><a class="reference internal" href="#copy-shares-from-old-server">Copy shares from old server</a></li>
<li><a class="reference internal" href="#swap-to-new-server">Swap to new server</a></li>
<li><a class="reference internal" href="#enter-office-configuration">Enter office configuration</a></li>
<li><a class="reference internal" href="#copy-shares-to-new-server">Copy shares to new server</a></li>
</ul>
</li>
<li><a class="reference internal" href="#replacing-a-current-server">Replacing a Current Server</a><ul>
<li><a class="reference internal" href="#backup-the-old-server">Backup the Old Server</a></li>
<li><a class="reference internal" href="#install-the-new-server">Install the New Server</a><ul>
<li><a class="reference internal" href="#connect-old-backup-drive">Connect old backup drive</a></li>
<li><a class="reference internal" href="#restore-configuration-data">Restore configuration, data</a></li>
<li><a class="reference internal" href="#reconnect-new-backup-drive">Reconnect new backup drive</a></li>
</ul>
</li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="01_Appleboot.html"
                        title="previous chapter">Apple First Boot Instructions</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="02_diskutil.html"
                        title="next chapter">Use of Diskutil</a></p>
  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="_sources/01_hardware.txt"
           rel="nofollow">Show Source</a></li>
  </ul>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="mac-mini-server-hardware">
<span id="hardware"></span><h1>Mac mini Server Hardware<a class="headerlink" href="#mac-mini-server-hardware" title="Permalink to this headline">¶</a></h1>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Apple products are available at any Apple store. All products described here
including Apple hardware are sold by and shipped from Amazon. Return policies
and product warranties may differ from in-store purchases for Apple products.</p>
</div>
<p>Apple&#8217;s Mac mini Server provides a highly integrated CPU. As provided by AAltsys
Technology, the hardware specifications for an Apple mac Mini server are:</p>
<table border="1" class="docutils">
<colgroup>
<col width="7%" />
<col width="24%" />
<col width="70%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Qty</th>
<th class="head">Product</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>1</td>
<td>MAC MINI SERVER</td>
<td><div class="first last line-block">
<div class="line">Intel quad-core i7 processor, 4 Gb RAM</div>
<div class="line">2 X 1-Tb hard drive, Intel HD Graphics 4000</div>
<div class="line">HDMI port, Thunderbolt MiniDisplay port options</div>
<div class="line">Firewire 800, 4 X USB 3.0, 1 X 10-Gbps Thunderbolt</div>
<div class="line">SDXC card slot, Audio In-Out, IR receiver</div>
<div class="line">1 Gb Ethernet, 802.11n Wireless, Bluetooth 4.0</div>
</div>
</td>
</tr>
<tr class="row-odd"><td>1</td>
<td>8 Gb RAM UPGRADE</td>
<td>1 X 8-Gb 204-pin SODIMM DDR3 PC3-16000</td>
</tr>
<tr class="row-even"><td>1</td>
<td>ETHERNET ADAPTER</td>
<td>Apple Thunderbolt to Gigabit Ethernet Adapter</td>
</tr>
<tr class="row-odd"><td>1</td>
<td>MYPASSPORT DRIVE</td>
<td>WD Ultra 1 Tb USB 3.0 external drive for backup</td>
</tr>
</tbody>
</table>
<p>Additional components are required for a headless server installation, and
console components are needed while installing operating system software:</p>
<table border="1" class="docutils">
<colgroup>
<col width="7%" />
<col width="24%" />
<col width="70%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Qty</th>
<th class="head">Product</th>
<th class="head">Description of Required Installation Components</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>1</td>
<td>CABLE MODEM</td>
<td>WAN: an ISP&#8217;s broadband connection to the Internet</td>
</tr>
<tr class="row-odd"><td>2</td>
<td>NETWORK SWITCH</td>
<td>LAN: NETGEAR GS108NA ProSafe 8-Port Gigabit Switch</td>
</tr>
<tr class="row-even"><td>1</td>
<td>UPS</td>
<td>CyberPower CP1350AVRLCD Series UPS 1350VA 810W</td>
</tr>
</tbody>
</table>
<table border="1" class="docutils">
<colgroup>
<col width="7%" />
<col width="24%" />
<col width="70%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Qty</th>
<th class="head">Product</th>
<th class="head">Description of Console Components</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>1</td>
<td>HDMI/DVI MONITOR</td>
<td>ASUS VE248H 24-Inch LED Monitor with Speakers</td>
</tr>
<tr class="row-odd"><td>1</td>
<td>USB KEYBOARD</td>
<td>Apple MB110LL/B Keyboard w/ Numeric Keypad (White)</td>
</tr>
<tr class="row-even"><td>1</td>
<td>USB MOUSE</td>
<td>AmazonBasics 3-Button USB Wired Mouse (Black)</td>
</tr>
<tr class="row-odd"><td>1</td>
<td>USB SUPERDRIVE</td>
<td><div class="first last line-block">
<div class="line">APPLE CD-RW/DVD-RW alternative to USB or SDXC card</div>
<div class="line">(used during OS installation only)</div>
</div>
</td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<ol class="last arabic simple">
<li>The Mac mini Server comes with video connectors for HDMI and DVI, but not
VGA, and no display cable is included. Provide a combination of cable and
display compatible with HDMI or DVI.</li>
<li>The server requires USB keyboard and mouse; not PS/2 style devices.</li>
<li>The Apple Superdrive works with Apple devices only. Other brands or types
of USB optical drives are not recognized by Apple servers.</li>
</ol>
</div>
<hr class="docutils" />
</div>
<div class="section" id="mac-mini-server-connections">
<span id="connectserver"></span><h1>Mac mini Server Connections<a class="headerlink" href="#mac-mini-server-connections" title="Permalink to this headline">¶</a></h1>
<img alt="_images/macmini_MD389LLA.png" src="_images/macmini_MD389LLA.png" />
<p>The connector side of the Mac mini Server is illustrated above. Plug up cable
connectors as follows:</p>
<table border="1" class="docutils">
<colgroup>
<col width="24%" />
<col width="26%" />
<col width="50%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Connector</th>
<th class="head">Cable</th>
<th class="head">Provided</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>Power supply</td>
<td>white power cable</td>
<td>Special power cable included</td>
</tr>
<tr class="row-odd"><td>Gigabit Ethernet</td>
<td>Ethernet to LAN</td>
<td>&nbsp;</td>
</tr>
<tr class="row-even"><td>Firewire</td>
<td>(unconnected)</td>
<td>&nbsp;</td>
</tr>
<tr class="row-odd"><td>HDMI</td>
<td>HDMI to monitor</td>
<td>HDMI-to-DVI converter included</td>
</tr>
<tr class="row-even"><td>Thunderbolt</td>
<td>Ethernet to WAN</td>
<td>Thunderbolt-to-Ethernet adapter</td>
</tr>
<tr class="row-odd"><td>USB 3.0</td>
<td>USB backup device</td>
<td>MyPassport 1 Tb external drive</td>
</tr>
<tr class="row-even"><td>USB 3.0</td>
<td>USB Keyboard</td>
<td>&nbsp;</td>
</tr>
<tr class="row-odd"><td>USB 3.0</td>
<td>USB Mouse</td>
<td>&nbsp;</td>
</tr>
</tbody>
</table>
<p>AALtsys Technology servers which use the Zentyal operating system on Apple
server hardware may be installed and managed &#8220;headless,&#8221; meaning that the
monitor, keyboard, and mouse are not required. If compatible console devices are
not available at a site, then a computer on the LAN can manage the server from
the browser once the server is connected and powered up.</p>
<p>Manage the server from a LAN workstation as follows:</p>
<ol class="arabic simple">
<li>Connect the network as described above, then power up the server.</li>
<li>Restart a LAN computer, obtaining IP and DNS automatically through DHCP.</li>
<li>Launch either Chrome or Firefox browser. Internet Explorer will not work.</li>
<li>Enter address <a class="reference external" href="https://192.168.2.241">https://192.168.2.241</a> in the browser. Accept the server&#8217;s
self-signed certificate.</li>
<li>Login to the server management program using the provided credentials.</li>
</ol>
<hr class="docutils" />
</div>
<div class="section" id="upgrading-a-zentyal-server">
<span id="upgradeserver"></span><h1>Upgrading a Zentyal Server<a class="headerlink" href="#upgrading-a-zentyal-server" title="Permalink to this headline">¶</a></h1>
<p>Configuration databases and file permissions on older versions of Zentyal may
not be compatible with newer Zentyal releases. Upgrade older servers using the
following instructions.</p>
<div class="section" id="copy-shares-from-old-server">
<h2>Copy shares from old server<a class="headerlink" href="#copy-shares-from-old-server" title="Permalink to this headline">¶</a></h2>
<p>At a workstation, use the command line to create directories for each server
share, and then copy the shared files into the new local directories. Open the
command line by clicking <em class="guilabel">Start</em> and entering <tt class="kbd docutils literal"><span class="pre">cmd.exe</span></tt> in the
the search window, then selecting <strong class="program">cmd.exe</strong> from the search results.</p>
<p>Copy files from share <tt class="file docutils literal"><span class="pre">\\AAltsysserver\shared</span></tt>, mapped to drive
<tt class="file docutils literal"><span class="pre">S:</span></tt>, by typing the commands:</p>
<div class="highlight-python"><pre>md \shared
cd \shared
xcopy S:\*.* . /s/e</pre>
</div>
<p>Use the preceding commands as a template for copying other server shares to a
workstation. For example, copy a user&#8217;s server private home directory, mapped to
drive <tt class="file docutils literal"><span class="pre">H:</span></tt>, by replacing <tt class="file docutils literal"><span class="pre">shared</span></tt> with <tt class="file docutils literal"><span class="pre">home</span></tt> and <tt class="file docutils literal"><span class="pre">S:</span></tt>
with <tt class="file docutils literal"><span class="pre">H:</span></tt> in the preceding commands.</p>
</div>
<div class="section" id="swap-to-new-server">
<h2>Swap to new server<a class="headerlink" href="#swap-to-new-server" title="Permalink to this headline">¶</a></h2>
<p>Shutdown and disconnect the old server, then connect the new server using the
diagram shown previously. Then power on the new server, and access its
administration at <a class="reference external" href="https://192.168.2.241">https://192.168.2.241</a> from a workstation web browser.</p>
</div>
<div class="section" id="enter-office-configuration">
<h2>Enter office configuration<a class="headerlink" href="#enter-office-configuration" title="Permalink to this headline">¶</a></h2>
<p>Use the instructions at <a class="reference internal" href="06_office.html#installoffice"><em>Office File Sharing</em></a> to configure file sharing,
printers, and users and groups.</p>
</div>
<div class="section" id="copy-shares-to-new-server">
<h2>Copy shares to new server<a class="headerlink" href="#copy-shares-to-new-server" title="Permalink to this headline">¶</a></h2>
<p>For each share directory saved on a workstation, first map the share to its
corresponding drive letter. In Windows 7, shares are mapped to drives by opening
<em class="guilabel">Computer</em>, pressing <tt class="kbd docutils literal"><span class="pre">[F10]</span></tt> to display the menu, and selecting
<em class="menuselection">Tools ‣ Map Network Drive</em>.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Download script <a class="reference download internal" href="_downloads/netshare.bat"><tt class="xref download docutils literal"><span class="pre">NETSHARE.BAT</span></tt></a> to the
workstation desktop as an alternative to mapping drives. Then edit the batch
script to reference the new server, and run the script to map drives.</p>
</div>
<p>After mapping a share to a drive letter, open the command line, then use the
following commands to copy the share files back to the server, remembering to
replace <tt class="file docutils literal"><span class="pre">S:</span></tt> and <tt class="file docutils literal"><span class="pre">shared</span></tt> with the respective share drive letter and
directory name for a share:</p>
<div class="highlight-python"><pre>cd \shared
xcopy . S:\ /s/e</pre>
</div>
<hr class="docutils" />
</div>
</div>
<div class="section" id="replacing-a-current-server">
<span id="replaceserver"></span><h1>Replacing a Current Server<a class="headerlink" href="#replacing-a-current-server" title="Permalink to this headline">¶</a></h1>
<div class="section" id="backup-the-old-server">
<h2>Backup the Old Server<a class="headerlink" href="#backup-the-old-server" title="Permalink to this headline">¶</a></h2>
<p>Zentyal does not provide a program option or document a command for performing a
demand backup. Backup all user data along with the server configuration at menu
selection <em class="menuselection">CORE ‣ System ‣ Backup</em>, by setting a new time for
a full backup to happen starting on the next hour. <a class="footnote-reference" href="#id2" id="id1">[1]</a></p>
</div>
<div class="section" id="install-the-new-server">
<h2>Install the New Server<a class="headerlink" href="#install-the-new-server" title="Permalink to this headline">¶</a></h2>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p>Instructions require using a Command Line Interface (CLI), which is accessed
by one of the following:</p>
<ol class="last arabic">
<li><p class="first"><strong class="program">ssh</strong>: From a workstation running either Linux or Apple OS-X,
open a command line and start a terminal session on the server with the
command:</p>
<div class="highlight-python"><pre>ssh admin1@192.168.2.241</pre>
</div>
</li>
<li><p class="first"><strong class="program">console</strong>: Connect keyboard, mouse, and video monitor to the
server. Login on the console and open a terminal session there.</p>
</li>
</ol>
</div>
<p>Use the <a class="reference internal" href="#connectserver"><em>Mac mini Server Connections</em></a> documentation to connect and manage the new server.</p>
<div class="section" id="connect-old-backup-drive">
<h3>Connect old backup drive<a class="headerlink" href="#connect-old-backup-drive" title="Permalink to this headline">¶</a></h3>
<p>If the new server uses a new backup drive, disconnect the new backup drive and
connect the backup drive from the old server. Open a command line as described
in the note above, then download shell script <strong class="program">backupdrive.sh</strong> and run
the script with the commands:</p>
<div class="highlight-python"><pre>wget http://servers.aaltsys.info/resources/_downloads/backupdrive.sh -P ~/
sudo ~/backupdrive.sh</pre>
</div>
</div>
<div class="section" id="restore-configuration-data">
<h3>Restore configuration, data<a class="headerlink" href="#restore-configuration-data" title="Permalink to this headline">¶</a></h3>
<p>In a web browser, login to Zentyal server management at <a class="reference external" href="https://192.168.2.241">https://192.168.2.241</a>.
Select <em class="menuselection">Core ‣ System ‣ Backup ‣ Services Restore</em> from the
menu to restore the system configuration, then use
<em class="menuselection">Restore Files</em> to restore backed up data.</p>
</div>
<div class="section" id="reconnect-new-backup-drive">
<h3>Reconnect new backup drive<a class="headerlink" href="#reconnect-new-backup-drive" title="Permalink to this headline">¶</a></h3>
<p>To reconnect a new backup drive, wait a minute after activity finishes, then
disconnect the old drive used for data transfer. Connect the new drive, and
reconfigure it with the terminal command:</p>
<div class="highlight-python"><pre>sudo ~/backupdrive.sh</pre>
</div>
<hr class="docutils" />
<table class="docutils footnote" frame="void" id="id2" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id1">[1]</a></td><td><a class="reference external" href="http://doc.zentyal.org/en/backup.html">Zentyal backup procedures documentation</a>.</td></tr>
</tbody>
</table>
</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="02_diskutil.html" title="Use of Diskutil"
             >next</a></li>
        <li class="right" >
          <a href="01_Appleboot.html" title="Apple First Boot Instructions"
             >previous</a> |</li>
        <li><a href="index.html">AAltsys Server 3.0 Installation 3.0 documentation</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2012, Gerald Lovel.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.2b3.
    </div>
  </body>
</html>